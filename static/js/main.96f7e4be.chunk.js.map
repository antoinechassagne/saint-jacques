{"version":3,"sources":["services/CookieManager.js","components/Header.jsx","helpers/functions/randomId.js","components/search/SearchSpots.jsx","helpers/functions/processWeatherData.js","components/charts/WavesChart.jsx","services/Api.js","api/spots.js","api/users.js","pages/Home.jsx","api/authentication.js","components/buttons/ButtonPrimary.jsx","components/form/FormBase.jsx","components/form/inputs/InputEmail.jsx","components/form/inputs/InputPassword.jsx","settings/routes.js","pages/Spots.jsx","pages/Spot.jsx","pages/SignIn.jsx","pages/SignUp.jsx","pages/NotFound.jsx","App.jsx","index.js"],"names":["name","match","document","cookie","RegExp","value","Header","props","pages","Object","keys","filter","key","menu","map","isLogged","push","signIn","className","exact","to","process","index","path","activeClassName","label","onClick","CookieManager","window","location","replace","home","randomId","Math","random","toString","substring","SearchSpots","useState","loading","setLoading","error","setError","results","setResults","displayResults","setDisplayResults","debounce","setDebounce","requestId","setRequestId","resultsContainer","useRef","input","handleClick","useCallback","event","target","isSameNode","current","removeEventListener","handleChange","clearTimeout","setTimeout","term","search","then","data","catch","useEffect","addEventListener","htmlFor","type","ref","onChange","e","length","spot","id","moment","locale","processWeatherData","ts","i","waveHeight","parseFloat","toFixed","date","calendar","unit","units","WavesChart","animate","duration","theme","VictoryTheme","material","width","height","interpolation","x","y","labelComponent","style","fill","stroke","fillOpacity","strokeWidth","labels","fontSize","datum","Api","axios","create","baseURL","interceptors","request","use","config","token","headers","Authorization","Promise","reject","response","status","reload","routes","notFound","fetchSpots","get","fetchSpot","searchSpot","params","fetchUserFavoriteSpots","addFavoriteSpot","removeFavoriteSpot","Home","title","favoriteSpots","setFavoriteSpots","loadingFavoriteSpots","setLoadingFavoriteSpots","setErrorFavoriteSpots","ApiUsers","ApiSpots","weatherData","renderFavoriteSpots","email","password","post","ButtonPrimary","children","FormBase","inputsData","setInputsData","inputChange","update","valid","handleSubmit","form","forEach","prototype","hasOwnProperty","call","console","log","submit","React","Children","child","cloneElement","el","inputs","required","onSubmit","preventDefault","buttonLabel","InputEmail","inputValue","setInputValue","setValid","disableValidation","setDisableValidation","validation","pattern","validValue","onBlur","InputPassword","component","guard","spots","setSpots","isFavorite","setIsFavorite","setLoadingAddFavorite","setErrorAddFavorite","setSpot","useParams","AddFavoriteSpotButton","longitude","description","class","credentials","ApiAuthentication","signUp","identicalPasswords","setIdenticalPasswords","passwordConfirmation","notfound","role","aria-label","App","render","Page","renderPage","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.96f7e4be.chunk.js","sourcesContent":["export default {\n  /**\n   *\n   * @param {*} name The name of the cookie\n   * @returns {null|String} The value of the cookie\n   */\n  get(name) {\n    const match = document.cookie.match(new RegExp(`(^| )${name}=([^;]+)`));\n    if (!match) return null;\n    return match[2];\n  },\n  /**\n   *\n   *\n   * @param {String} name\n   * @param {String} value\n   */\n  set(name, value) {\n    document.cookie = `${name}=${value}`;\n  },\n  /**\n   *\n   * @param {*} name The name of the cookie\n   */\n  delete(name) {\n    document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/saint-jacques`;\n  },\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport CookieManager from \"../services/CookieManager\";\n\nconst Header = (props) => {\n  // Remove routes that should not be in menu\n  const pages = Object.keys(props.pages)\n    .filter((key) => props.pages[key].menu)\n    .map((key) => props.pages[key]);\n\n  // If user isn't logged, we add signin link in menu\n  if (!props.isLogged) {\n    pages.push(props.pages.signIn);\n  }\n\n  const menu = () => {\n    const entries = Object.keys(pages).map((key, index) => (\n      <li key={index}>\n        <NavLink\n          exact={true}\n          to={`${process.env.PUBLIC_URL}${pages[key].path}`}\n          activeClassName=\"active\"\n        >\n          {pages[key].label}\n        </NavLink>\n      </li>\n    ));\n\n    return entries;\n  };\n\n  return (\n    <header className=\"header mb--xl\">\n      <NavLink\n        exact={true}\n        to={`${process.env.PUBLIC_URL}`}\n        className=\"header__brand\"\n      >\n        Saint Jacques\n      </NavLink>\n      <nav>\n        <ul className=\"header__menu\">{menu()}</ul>\n        {props.isLogged && (\n          <button\n            onClick={() => {\n              CookieManager.delete(\"jwt\");\n              window.location.replace(\n                `${process.env.PUBLIC_URL}${props.pages.home.path}`\n              );\n            }}\n          >\n            Se déconnecter\n          </button>\n        )}\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","const randomId = () => {\n  return (\n    Math.random().toString(36).substring(2, 5) +\n    Math.random().toString(36).substring(2, 5)\n  );\n};\n\nexport default randomId;\n","import React, { useState, useRef, useCallback } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport randomId from \"../../helpers/functions/randomId\";\nimport { useEffect } from \"react\";\n\nconst SearchSpots = (props) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [results, setResults] = useState([]);\n  const [displayResults, setDisplayResults] = useState(false);\n  const [debounce, setDebounce] = useState(null);\n  const [requestId, setRequestId] = useState(null);\n\n  const resultsContainer = useRef(null);\n  const input = useRef(null);\n\n  const handleClick = useCallback((event) => {\n    // If use click outisde if input or results\n    // Close the results container and remove click listener\n    if (\n      !event.target.isSameNode(input.current) &&\n      !event.target.isSameNode(resultsContainer.current)\n    ) {\n      setDisplayResults(false);\n      input.current.value = \"\";\n      window.removeEventListener(\"click\", handleClick);\n    }\n  }, []);\n\n  const fetchSpots = (term, currentRequestId) => {\n    if (currentRequestId !== requestId) return;\n    setError(false);\n    props\n      .search(term)\n      .then(({ data }) => {\n        setResults(data);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  const handleChange = (event) => {\n    setLoading(true);\n    setDisplayResults(true);\n    const { value } = event.target;\n    if (!value) {\n      setResults([]);\n      setDisplayResults(false);\n      return;\n    }\n    clearTimeout(setDebounce(debounce));\n    setDebounce(\n      setTimeout(() => {\n        setRequestId(randomId());\n        fetchSpots(value, requestId);\n      }, 800)\n    );\n  };\n\n  useEffect(() => {\n    if (displayResults) {\n      window.addEventListener(\"click\", handleClick);\n    } else {\n      window.removeEventListener(\"click\", handleClick);\n    }\n    return () => window.removeEventListener(\"click\", handleClick);\n  }, [displayResults, handleClick]);\n\n  const renderResults = () => {\n    if (loading) return <span>Chargement...</span>;\n    if (error) return <span>Une erreur est survenue.</span>;\n    if (!results.length) return <span>Aucun résultat trouvé.</span>;\n    return (\n      <ul>\n        {results.map((spot, index) => (\n          <li key={index}>\n            <Link to={`${process.env.PUBLIC_URL}/spots/${spot.id}`}>\n              {spot.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  return (\n    <div className=\"search\">\n      <div className=\"input\">\n        <label className=\"input__label\" htmlFor={props.name}>\n          {props.label}\n        </label>\n        <input\n          className=\"input__input\"\n          type=\"text\"\n          name={props.name}\n          ref={input}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n        />\n      </div>\n      <div\n        ref={resultsContainer}\n        className={\n          displayResults\n            ? \"search__results search__results--active\"\n            : \"search__results\"\n        }\n      >\n        {renderResults()}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchSpots;\n","import moment from \"moment\";\nimport \"moment/locale/fr\";\nmoment.locale(\"fr\");\n\nconst processWeatherData = (data) => {\n  if (!data[\"waves_height-surface\"][0]) {\n    return false;\n  }\n  return data.ts.map((ts, i) => {\n    const waveHeight = parseFloat(data[\"waves_height-surface\"][i].toFixed(2));\n    return {\n      date: moment(ts),\n      label: `${moment(ts).calendar()} - ${waveHeight}`,\n      waveHeight,\n      unit: data.units[\"waves_height-surface\"],\n    };\n  });\n};\n\nexport default processWeatherData;\n","import React from \"react\";\nimport {\n  VictoryArea,\n  VictoryChart,\n  VictoryTooltip,\n  VictoryTheme,\n} from \"victory\";\nimport processWeatherData from \"../../helpers/functions/processWeatherData\";\n\nconst WavesChart = (props) => {\n  const data = processWeatherData(props.data);\n  const content = () => {\n    if (!data) {\n      return (\n        <span className=\"d-block mt--m error\">\n          Une erreur s'est produite lors du chargement des données.\n        </span>\n      );\n    }\n    return (\n      <VictoryChart\n        animate={{ duration: 1000 }}\n        theme={VictoryTheme.material}\n        width={400}\n        height={200}\n      >\n        <VictoryArea\n          data={data}\n          interpolation={\"basis\"}\n          x=\"date\"\n          y=\"waveHeight\"\n          labelComponent={<VictoryTooltip />}\n          style={{\n            data: {\n              fill: \"cyan\",\n              stroke: \"cyan\",\n              fillOpacity: 0.4,\n              strokeWidth: 3,\n            },\n            labels: {\n              fontSize: 3,\n              fill: ({ datum }) => (datum.x === 3 ? \"#000000\" : \"#c43a31\"),\n            },\n          }}\n        />\n      </VictoryChart>\n    );\n  };\n\n  return content();\n};\n\nexport default WavesChart;\n","import axios from \"axios\";\nimport CookieManager from \"./CookieManager\";\nimport routes from \"../settings/routes\";\n\nconst Api = axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"development\"\n      ? \"http://127.0.0.1:8000/api\"\n      : \"https://saint-jacques.herokuapp.com/api\",\n});\n\nApi.interceptors.request.use(\n  (config) => {\n    const token = CookieManager.get(\"jwt\");\n\n    if (token != null) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nApi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // User ins't authenticated\n    if (error.response.status === 401) {\n      // Delete the previous JWT\n      CookieManager.delete(\"jwt\");\n      // Redirect user to login page\n      document.location.reload(true);\n      window.location.replace(`${process.env.PUBLIC_URL}${routes.signIn.path}`);\n    }\n    // Resource doesn't exists\n    if (error.response.status === 404) {\n      // Redirect to 404 page\n      window.location.replace(\n        `${process.env.PUBLIC_URL}${routes.notFound.path}`\n      );\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default Api;\n","import Api from \"../services/Api\";\n\n/**\n * @returns {Promise} HTTP Reponse\n */\nconst fetchSpots = () => Api.get(\"/spots\");\n\n/**\n * @param {Number} id Spot id\n * @returns {Promise} HTTP Response\n */\nconst fetchSpot = (id) => Api.get(`/spots/${id}`);\n\n/**\n * @param {String} term The term sought\n * @returns {Promise} HTTP Reponse\n */\nconst searchSpot = (term) =>\n  Api.get(\"/search/spots\", {\n    params: { search: term },\n  });\n\nexport default {\n  fetchSpots,\n  fetchSpot,\n  searchSpot,\n};\n","import Api from \"../services/Api\";\n\n/**\n * @returns {Promise} HTTP Reponse\n */\nconst fetchUserFavoriteSpots = () => Api.get(\"/users/favorite-spots\");\n\n/**\n * @param {Number} id The spot id\n * @returns {Promise} HTTP Reponse\n */\nconst addFavoriteSpot = (id) =>\n  Api.get(\"/users/add-favorite-spot\", {\n    params: { spot: id },\n  });\n\n/**\n * @param {Number} id The spot id\n * @returns {Promise} HTTP Reponse\n */\nconst removeFavoriteSpot = (id) =>\n  Api.get(\"/users/remove-favorite-spot\", {\n    params: { spot: id },\n  });\n\nexport default {\n  fetchUserFavoriteSpots,\n  addFavoriteSpot,\n  removeFavoriteSpot,\n};\n","import React, { useState, useEffect } from \"react\";\nimport CookieManager from \"../services/CookieManager\";\nimport SearchSpots from \"../components/search/SearchSpots\";\nimport WavesChart from \"../components/charts/WavesChart\";\nimport ApiSpots from \"../api/spots\";\nimport ApiUsers from \"../api/users\";\n\nconst Home = () => {\n  document.title = \"Saint Jacques\";\n\n  const [favoriteSpots, setFavoriteSpots] = useState([]);\n  const [loadingFavoriteSpots, setLoadingFavoriteSpots] = useState(true);\n  const [errorFavoriteSpots, setErrorFavoriteSpots] = useState(false);\n\n  const isLogged = CookieManager.get(\"jwt\") ? true : false;\n\n  const fetchUserFavoriteSpots = () => {\n    setLoadingFavoriteSpots(true);\n    if (isLogged) {\n      ApiUsers.fetchUserFavoriteSpots()\n        .then(({ data }) => {\n          setLoadingFavoriteSpots(false);\n          setFavoriteSpots(data);\n        })\n        .catch(() => {\n          setErrorFavoriteSpots(true);\n          setLoadingFavoriteSpots(false);\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (isLogged) {\n      fetchUserFavoriteSpots();\n    }\n  }, []);\n\n  const renderFavoriteSpots = () => {\n    if (!isLogged) return;\n\n    return (\n      <div>\n        <h2 className=\"mt--l\">Vos spots favoris</h2>\n        {loadingFavoriteSpots && <span>Chargement...</span>}\n        {!loadingFavoriteSpots && !favoriteSpots.length && (\n          <span>Aucun spots favoris.</span>\n        )}\n        {favoriteSpots.map((spot) => (\n          <>\n            <h4 className=\"d-block mt--m\">{spot.name}</h4>\n            <WavesChart data={spot.weatherData} />\n          </>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <section>\n      <h1>Bienvenue sur Saint Jacques</h1>\n      <SearchSpots label=\"Rechercher un spot\" search={ApiSpots.searchSpot} />\n      {renderFavoriteSpots()}\n    </section>\n  );\n};\n\nexport default Home;\n","import Api from \"../services/Api\";\n\n/**\n * Ask for a Json Web Token\n *\n * @param {Object} Credentials Should contains `email` and `password`\n * @returns {Promise} HTTP Response\n */\nconst signIn = ({ email, password }) =>\n  Api.post(\"/signin\", { email, password });\n\n/**\n * Register the user\n *\n * @param {Object} Credentials Should contains `email` and `password`\n * @returns {Promise} HTTP Reponse\n */\nconst signUp = ({ email, password }) =>\n  Api.post(\"/signup\", { email, password });\n\nexport default {\n  signIn,\n  signUp,\n};\n","import React from \"react\";\n\nconst ButtonPrimary = (props) => (\n  <button className=\"button button--primary\">{props.children}</button>\n);\n\nexport default ButtonPrimary;\n","import React, { useState, useEffect } from \"react\";\nimport ButtonPrimary from \"../buttons/ButtonPrimary\";\n\nconst FormBase = (props) => {\n  const [inputsData, setInputsData] = useState({});\n\n  const inputChange = (input) => {\n    const update = { ...inputsData };\n\n    if (input.valid) {\n      // Input is valid, we update\n      update[input.name] = input;\n    } else {\n      // Input isn't valid, we remove its value and set valid to false\n      delete update[input.name].value;\n      update[input.name].valid = false;\n    }\n    setInputsData(update);\n  };\n\n  const handleSubmit = () => {\n    const form = {};\n    let error = false;\n\n    Object.keys(inputsData).forEach((key) => {\n      // If there is an error, skip\n      if (error) return;\n\n      // If an input isn't valid, set error to true\n      if (!inputsData[key].valid) {\n        error = true;\n        return;\n      }\n\n      // If input has a value property, push it to final form object\n      if (Object.prototype.hasOwnProperty.call(inputsData[key], \"value\")) {\n        form[inputsData[key].name] = inputsData[key].value;\n      }\n    });\n    console.log(form);\n    if (!error) {\n      props.submit(form);\n    }\n  };\n\n  const children = React.Children.map(props.children, (child) => {\n    // Inject inputChange function as props on every input\n    if (!child) return undefined;\n    return React.cloneElement(child, {\n      inputChange,\n    });\n  }).filter((el) => el);\n\n  useEffect(() => {\n    // Register each input in state\n    const inputs = {};\n    props.children.forEach((child) => {\n      if (!child) return;\n      inputs[child.props.name] = {\n        name: child.props.name,\n        valid: child.props.required ? false : true,\n        required: child.props.required ? true : false,\n      };\n    });\n    setInputsData(inputs);\n  }, [setInputsData]);\n\n  return (\n    <form\n      className=\"form\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n      }}\n    >\n      {children}\n      <ButtonPrimary\n        onClick={() => {\n          handleSubmit();\n        }}\n      >\n        {props.buttonLabel}\n      </ButtonPrimary>\n    </form>\n  );\n};\n\nexport default FormBase;\n","import React, { useState, useEffect } from \"react\";\n\nconst InputEmail = (props) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [valid, setValid] = useState(true);\n  const [disableValidation, setDisableValidation] = useState(true);\n\n  const validation = () => {\n    // Skip validation if validation prop is set to false\n    if (!props.validation) return;\n\n    // Skip validation when user is writing for the first time\n    if (disableValidation) return;\n\n    // Case where value is empty but required\n    if (props.required && !inputValue) {\n      setValid(false);\n      return;\n    }\n\n    // Regex validation\n    const pattern = new RegExp(\"[^@]+@[^.]+..+\");\n    const validValue = inputValue.match(pattern);\n    setValid(validValue ? true : false);\n  };\n\n  useEffect(() => {\n    // Validation\n    if (!disableValidation) {\n      validation();\n    }\n\n    // Send to parent\n    props.inputChange({\n      name: props.name,\n      value: inputValue,\n      valid,\n      required: props.required,\n    });\n  }, [disableValidation, inputValue, valid]);\n\n  return (\n    <div className=\"input\">\n      <label className=\"input__label\" htmlFor={props.name}>\n        {props.label}\n      </label>\n      <input\n        className=\"input__input\"\n        type=\"email\"\n        value={inputValue}\n        name={props.name}\n        required={props.required}\n        onChange={(e) => setInputValue(e.target.value)}\n        onBlur={(e) => {\n          // Enable validation on the first blur\n          if (disableValidation) {\n            setDisableValidation(false);\n            return;\n          }\n          setInputValue(e.target.value);\n        }}\n      />\n      {!valid && (\n        <span className=\"error\">Veuillez saisir une adresse email valide.</span>\n      )}\n    </div>\n  );\n};\n\nexport default InputEmail;\n","import React, { useState, useEffect } from \"react\";\n\nconst InputPassword = (props) => {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [valid, setValid] = useState(true);\n  const [disableValidation, setDisableValidation] = useState(true);\n\n  const validation = () => {\n    // Skip validation if validation prop is set to false\n    if (!props.validation) return;\n\n    // Skip validation when user is writing for the first time\n    if (disableValidation) return;\n\n    // Case where value is empty but required\n    if (props.required && !inputValue) {\n      setValid(false);\n      return;\n    }\n\n    // Regex validation\n    const pattern = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/;\n    const validValue = inputValue.match(pattern);\n    setValid(validValue ? true : false);\n  };\n\n  useEffect(() => {\n    // Validation\n    if (!disableValidation) {\n      validation();\n    }\n\n    // Send to parent\n    props.inputChange({\n      name: props.name,\n      value: inputValue,\n      valid,\n      required: props.required,\n    });\n  }, [disableValidation, inputValue, valid]);\n\n  return (\n    <div className=\"input\">\n      <label className=\"input__label\" htmlFor={props.name}>\n        {props.label}\n      </label>\n      <input\n        className=\"input__input\"\n        type=\"password\"\n        value={inputValue}\n        name={props.name}\n        required={props.required}\n        onChange={(e) => setInputValue(e.target.value)}\n        onBlur={(e) => {\n          // Enable validation on the first blur\n          if (disableValidation) {\n            setDisableValidation(false);\n            return;\n          }\n          setInputValue(e.target.value);\n        }}\n      />\n      {!valid && (\n        <p className=\"error\">\n          Le mot de passe doit contenir au moins 8 caractères (dont au moins une\n          majuscule, une minuscule, un chiffre et un caractère spécial).\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default InputPassword;\n","import Home from \"../pages/Home\";\nimport SignIn from \"../pages/SignIn\";\nimport SignUp from \"../pages/SignUp\";\nimport Spots from \"../pages/Spots\";\nimport Spot from \"../pages/Spot\";\nimport NotFound from \"../pages/NotFound\";\n\nexport default {\n  home: {\n    path: \"/\",\n    label: \"Accueil\",\n    component: Home,\n    menu: false,\n    guard: false,\n  },\n  spots: {\n    path: \"/spots\",\n    label: \"Spots\",\n    component: Spots,\n    menu: true,\n    guard: false,\n  },\n  spot: {\n    path: \"/spots/:id\",\n    label: \"Spot\",\n    component: Spot,\n    menu: false,\n    guard: false,\n  },\n  signIn: {\n    path: \"/sign-in\",\n    label: \"Se connecter\",\n    component: SignIn,\n    menu: false,\n    guard: false,\n  },\n  signUp: {\n    path: \"/sign-up\",\n    label: \"S'inscrire'\",\n    component: SignUp,\n    menu: false,\n    guard: false,\n  },\n  notfound: {\n    path: \"/404\",\n    label: \"Erreur 404\",\n    component: NotFound,\n    menu: false,\n    guard: false,\n  },\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ApiSpots from \"../api/spots\";\n\nconst Spots = () => {\n  document.title = \"Saint Jacques | Spots\";\n\n  const [spots, setSpots] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const fetchSpots = () => {\n    ApiSpots.fetchSpots()\n      .then(({ data }) => {\n        setSpots(data[\"hydra:member\"]);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchSpots();\n  }, []);\n\n  const renderSpots = () => (\n    <ul>\n      {spots.map((spot, index) => (\n        <li key={index}>\n          <Link to={`${process.env.PUBLIC_URL}/spots/${spot.id}`}>\n            {spot.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n\n  const content = () => {\n    if (loading) return <span>Chargement...</span>;\n    if (error) return <span>Une erreur est survenue.</span>;\n    if (!spots.length) return <span>Aucun spot trouvé.</span>;\n    return renderSpots();\n  };\n\n  return (\n    <section>\n      <h1>Tous les spots</h1>\n      {content()}\n    </section>\n  );\n};\n\nexport default Spots;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ApiSpots from \"../api/spots\";\nimport ApiUsers from \"../api/users\";\nimport CookieManager from \"../services/CookieManager\";\nimport routes from \"../settings/routes\";\nimport WavesChart from \"../components/charts/WavesChart\";\n\nconst Spot = () => {\n  document.title = \"Saint Jacques | Chargement...\";\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [loadingAddFavorite, setLoadingAddFavorite] = useState(false);\n  const [errorAddFavorite, setErrorAddFavorite] = useState(false);\n  const [spot, setSpot] = useState(null);\n\n  const params = useParams();\n\n  const fetchSpot = () => {\n    ApiSpots.fetchSpot(params.id)\n      .then(({ data }) => {\n        document.title = `Saint Jacques | ${data.name}`;\n        setSpot(data);\n        setIsFavorite(data.isFavorite);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  const toggleFavoriteSpot = () => {\n    setErrorAddFavorite(true);\n    setLoadingAddFavorite(true);\n    const method = isFavorite ? \"removeFavoriteSpot\" : \"addFavoriteSpot\";\n    ApiUsers[method](params.id)\n      .then(() => {\n        setLoadingAddFavorite(false);\n        setIsFavorite(!isFavorite);\n      })\n      .catch(() => {\n        setErrorAddFavorite(true);\n        setLoadingAddFavorite(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchSpot();\n  }, []);\n\n  const AddFavoriteSpotButton = () => {\n    const isLogged = CookieManager.get(\"jwt\") ? true : false;\n\n    if (!isLogged) {\n      return (\n        <div className=\"mt--s\">\n          <span>Connectez-vous pour ajouter ce spot à vos favoris</span>\n          <button\n            className=\"mt--l\"\n            onClick={() => {\n              window.location.replace(\n                `${process.env.PUBLIC_URL}${routes.signIn.path}`\n              );\n            }}\n          >\n            Se connecter\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <button onClick={() => toggleFavoriteSpot()} className=\"mt--l\">\n        {isFavorite ? \"Retirer de mes favoris\" : \"Ajouter à mes favoris\"}\n      </button>\n    );\n  };\n\n  const content = () => {\n    if (loading) return <span>Chargement...</span>;\n    if (error) return <span>Une erreur est survenue.</span>;\n    return (\n      <section>\n        <h1>{spot.name}</h1>\n        <span className=\"d-block mb--xs\">Longitude : {spot.longitude}</span>\n        <span className=\"d-block mb--xs\">Latitude : {spot.longitude}</span>\n        <p>{spot.description}</p>\n        {AddFavoriteSpotButton()}\n        <WavesChart data={spot.weatherData} />\n      </section>\n    );\n  };\n\n  return <section className=\"page\">{content()}</section>;\n};\n\nexport default Spot;\n","import React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport routes from \"../settings/routes\";\nimport ApiAuthentication from \"../api/authentication\";\nimport CookieManager from \"../services/CookieManager\";\nimport FormBase from \"../components/form/FormBase\";\nimport InputEmail from \"../components/form/inputs/InputEmail\";\nimport InputPassword from \"../components/form/inputs/InputPassword\";\n\nconst SignIn = () => {\n  document.title = \"Saint Jacques | Se connecter\";\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const signIn = (credentials) => {\n    setLoading(true);\n    const { email, password } = credentials;\n    ApiAuthentication.signIn({ email, password })\n      .then((response) => {\n        if (response.status === 200) {\n          CookieManager.set(\"jwt\", response.data.token);\n          window.location.replace(`${process.env.PUBLIC_URL}`);\n        } else {\n          setError(true);\n          setLoading(false);\n        }\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <section className=\"page page--sign-in\">\n      <h1>Se connecter</h1>\n      {error && (\n        <span class=\"error\">Les identifiants saisis ne sont pas valides.</span>\n      )}\n      <FormBase submit={(data) => signIn(data)} buttonLabel=\"Se connecter\">\n        <InputEmail\n          required={true}\n          validation={true}\n          name=\"email\"\n          label=\"Email\"\n        />\n        <InputPassword\n          required={true}\n          validation={false}\n          name=\"password\"\n          label=\"Mot de passe\"\n        />\n      </FormBase>\n      {loading && <span>Chargement...</span>}\n      <span className=\"mt--s mb--xs d-block\">\n        Vous n'avez pas encore de compte ?{\" \"}\n        <NavLink\n          exact={true}\n          to={`${process.env.PUBLIC_URL}${routes.signUp.path}`}\n        >\n          Créez en un dès maintenant !\n        </NavLink>\n      </span>\n    </section>\n  );\n};\n\nexport default SignIn;\n","import React, { useState } from \"react\";\nimport ApiAuthentication from \"../api/authentication\";\nimport CookieManager from \"../services/CookieManager\";\nimport FormBase from \"../components/form/FormBase\";\nimport InputEmail from \"../components/form/inputs/InputEmail\";\nimport InputPassword from \"../components/form/inputs/InputPassword\";\n\nconst SignUp = () => {\n  document.title = \"Saint Jacques | S'inscrire\";\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [identicalPasswords, setIdenticalPasswords] = useState(true);\n\n  // Sign up function executed when form is submitted\n  const signUp = (credentials) => {\n    const { email, password, passwordConfirmation } = credentials;\n\n    // Check if passwords are identicals\n    if (password !== passwordConfirmation) {\n      setIdenticalPasswords(false);\n      return;\n    }\n\n    setIdenticalPasswords(true);\n    setLoading(true);\n\n    ApiAuthentication.signUp({ email, password })\n      .then(() => {\n        // Once the user has been registered,\n        // we need to sign in\n        ApiAuthentication.signIn({ email, password })\n          .then((response) => {\n            CookieManager.set(\"jwt\", response.data.token);\n            window.location.replace(`${process.env.PUBLIC_URL}`);\n          })\n          .catch(() => {\n            setError(true);\n            setLoading(false);\n          });\n      })\n      .catch(() => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <section class=\"page page--sign-up\">\n      <h1>S'inscrire</h1>\n      {error && (\n        <span className=\"error d-block mb--m\">\n          Les identifiants saisis ne sont pas valides. Il se peut que l'adresse\n          email saisie soit déjà associée à un compte.\n        </span>\n      )}\n      <FormBase submit={(data) => signUp(data)} buttonLabel=\"S'inscrire\">\n        <InputEmail\n          required={true}\n          validation={true}\n          name=\"email\"\n          label=\"Adresse email\"\n        />\n        <InputPassword\n          required={true}\n          validation={true}\n          name=\"password\"\n          label=\"Mot de passe\"\n        />\n        <InputPassword\n          required={true}\n          name=\"passwordConfirmation\"\n          label=\"Conformation du mot de passe\"\n        />\n        {!identicalPasswords && (\n          <span className=\"error d-block mb--s\">\n            Les mots de passe saisis ne sont pas identiques.\n          </span>\n        )}\n      </FormBase>\n      {loading && <span className=\"d-block mt--s\">Chargement...</span>}\n    </section>\n  );\n};\n\nexport default SignUp;\n","import React from \"react\";\n\nconst NotFound = () => {\n  document.title = \"Saint Jacques | 404\";\n\n  return (\n    <section>\n      <h1>Erreur 404</h1>\n      <p>\n        Cette pas n'existe pas...{\" \"}\n        <span role=\"img\" aria-label=\"Sad face emoji\">\n          😞\n        </span>\n      </p>\n    </section>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport CookieManager from \"./services/CookieManager\";\nimport Header from \"./components/Header\";\nimport routes from \"./settings/routes\";\n\nconst App = () => {\n  const isLogged = CookieManager.get(\"jwt\") ? true : false;\n\n  const renderPage = (guard = false, component) => {\n    const Page = component;\n    if (!guard) return <Page />;\n    return isLogged ? (\n      <Page />\n    ) : (\n      <Redirect to={`${process.env.PUBLIC_URL}${routes.signIn.path}`} />\n    );\n  };\n\n  const pages = Object.keys(routes).map((key, index) => {\n    const { path, component, guard } = routes[key];\n    return (\n      <Route\n        key={index}\n        exact\n        path={`${process.env.PUBLIC_URL}${path}`}\n        render={() => renderPage(guard, component)}\n      />\n    );\n  });\n\n  return (\n    <Router>\n      <>\n        <Header pages={routes} isLogged={isLogged} />\n        <main className=\"container\">\n          <Switch>{pages}</Switch>\n        </main>\n      </>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\nimport \"./styles/main.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}